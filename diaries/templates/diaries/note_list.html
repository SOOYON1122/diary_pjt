{% extends "base.html" %}
{% load static %}

{% block title %}
Note List
{% endblock title %}

{% block content %}
<h1>노트 목록</h1>
<a href="{% url 'diaries:create_note' diary.pk %}">[노트 작성하기]</a>
<ul>
  {% for note in page_obj %}
    <li>
      <a href="{% url 'diaries:note_detail' diary.pk note.pk %}">{{ note.note_content }}</a>
      {% if request.user == note.user %}
        <form action="{% url 'diaries:delete_note' diary.pk note.pk %}" method="post" style="display:inline;">
          {% csrf_token %}
          <button type="submit">삭제</button>
        </form>
        <button>
          <a href="{% url 'diaries:edit_note' diary.pk note.pk %}">수정</a>
        </button>
      {% endif %}
    </li>
  {% empty %}
    <li>작성된 노트가 없습니다.</li>
  {% endfor %}
</ul>

{% endblock content %}
